{% extends "base.html" %}
{% load i18n %}
{% load bootstrap_toolkit %}


{% block title %}Hostname forwarding{% endblock %}

{% block content %}

	<h3>{{object.domain}}:{{object.port_from}} --> {{object.server_to.internal_ip}}:{{object.port_to}}</h3>

	<script type="text/javascript">$(function() { $('#menu-hostnameforwarding').addClass('active'); });</script>

	<div class="row-fluid">
        <!-- block -->
        <div class="span12">
	        <div class="block">
	            <div class="navbar navbar-inner block-header">
	                <div class="muted pull-left">{% trans "Details of a port forwarded" %}</div>
	            </div>
	            <div class="block-content collapse in">
	                <div class="span12">

	                	<form class="form-horizontal">
							<fieldset>
								<legend>{% trans "Details" %}</legend>

								<div class="control-group control-group-txt">
									<label class="control-label control-label-txt">{% trans "Domain" %}</label>
									<div class="controls controls-txt">{{object.domain}}</div>
								</div>
								
								<div class="control-group control-group-txt">
									<label class="control-label control-label-txt">{% trans "Server from" %}</label>
									<div class="controls controls-txt">{{object.server_host}} ({{object.server_host.external_ip}})</div>
								</div>

								<div class="control-group control-group-txt">
									<label class="control-label control-label-txt">{% trans "Base path" %}</label>
									<div class="controls controls-txt">{{object.base_path}}</div>
								</div>

								<div class="control-group control-group-txt">
									<label class="control-label control-label-txt">{% trans "Server to" %}</label>
									<div class="controls controls-txt">{{object.server_to}} ({{object.server_to.internal_ip}})</div>
								</div>

								<div class="control-group control-group-txt">
									<label class="control-label control-label-txt">{% trans "Port from" %}</label>
									<div class="controls controls-txt">{{object.port_from}}</div>
								</div>

								<div class="control-group control-group-txt">
									<label class="control-label control-label-txt">{% trans "Port to" %}</label>
									<div class="controls controls-txt">{{object.port_to}}</div>
								</div>

								<div class="control-group control-group-txt">
									<label class="control-label control-label-txt">{% trans "Force HTTPs ?" %}</label>
									<div class="controls controls-txt">{{object.force_https|yesno}}</div>
								</div>

								{% if object.custom_https_certificate_pem %}
									<div class="control-group control-group-txt">
										<label class="control-label control-label-txt">{% trans "Custom SSL certificate (PEM)" %}</label>
										<div class="controls controls-txt">{{object.custom_https_certificate_pem}}</div>
									</div>
								{% endif %}

								{% if object.custom_https_certificate_key %}
									<div class="control-group control-group-txt">
										<label class="control-label control-label-txt">{% trans "Custom SSL certificate (KEY)" %}</label>
										<div class="controls controls-txt">{{object.custom_https_certificate_key}}</div>
									</div>
								{% endif %}
							</fieldset>
						</form>

						<div class="row-fluid box-section" style="text-align: right;">
			                <a href="{% url 'hostnameforwarding.views.hosts_list' %}" class="btn"><i class="icon-list icon-black"></i> {% trans "Back to the list" %}</a>
			                <a href="{% url 'hostnameforwarding.views.hosts_edit' object.pk %}" class="btn btn-primary"><i class="icon-pencil icon-white"></i> {% trans "Edit" %}</a>
			            </div>

					</div>
				</div>
			</div>
		</div>

	</div>

{% endblock %}
